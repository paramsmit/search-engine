---
swagger: "2.0"
info: !php/object "O:8:\"stdClass\":4:{s:11:\"description\";s:26:\"api installed on
  esb nodes\";s:7:\"version\";s:2:\"v1\";s:5:\"title\";s:10:\"global-api\";s:7:\"contact\";O:8:\"stdClass\":2:{s:4:\"name\";s:13:\"Gianni
  Giglio\";s:5:\"email\";s:15:\"gig@melexis.com\";}}"
host: esb-test.colo
basePath: /cxf/spc
paths:
  /spc/control/actionTypes:
    get:
      tags:
      - spccontrol
      summary: Get all action types
      description: ""
      operationId: getAllActionTypes
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        200:
          description: The request was successful
          schema:
            type: array
            items:
              $ref: '#/definitions/ActionType'
        400:
          description: The request body is incorrect
        500:
          description: An internal error occured
  /spc/control/add:
    post:
      tags:
      - spccontrol
      summary: Add SPC Setting
      description: ""
      operationId: addSpcControl
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: spcSetting
        description: ControlVO in json format
        required: true
        schema:
          $ref: '#/definitions/Control'
      responses:
        200:
          description: The SPC setting was successfuly added
        400:
          description: The request body is incorrect
        500:
          description: An internal error occured
  /spc/control/all:
    get:
      tags:
      - spccontrol
      summary: Get all spc settings
      description: ""
      operationId: getAllControls
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: enabled
        in: query
        description: retrieve enabled settings only
        required: false
        type: boolean
      responses:
        200:
          description: The request was successful
          schema:
            type: array
            items:
              $ref: '#/definitions/Control'
        400:
          description: The request body is incorrect
        500:
          description: An internal error occured
  /spc/control/blockActions:
    get:
      tags:
      - spccontrol
      summary: Get all mail block actions
      description: ""
      operationId: getAllBlockActions
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        200:
          description: The request was successful
          schema:
            type: array
            items:
              $ref: '#/definitions/BlockActionType'
        400:
          description: The request body is incorrect
        500:
          description: An internal error occured
  /spc/control/controlTypes:
    get:
      tags:
      - spccontrol
      summary: Get all control types
      description: ""
      operationId: getAllControlTypes
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        200:
          description: The request was successful
          schema:
            type: array
            items:
              $ref: '#/definitions/ControlType'
        400:
          description: The request body is incorrect
        500:
          description: An internal error occured
  /spc/control/update:
    post:
      tags:
      - spccontrol
      summary: Update an existing SPC setting
      description: ""
      operationId: updateSpcControl
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: spcSetting
        description: ControlVO in json format
        required: true
        schema:
          $ref: '#/definitions/Control'
      responses:
        200:
          description: The SPC setting was successfuly updated
        400:
          description: The request body is incorrect
        500:
          description: An internal error occured
  /spc/control/wecoRules:
    get:
      tags:
      - spccontrol
      summary: Get all weco rules
      description: ""
      operationId: getAllWecoRules
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        200:
          description: The request was successful
          schema:
            type: array
            items:
              $ref: '#/definitions/WecoRule'
        400:
          description: The request body is incorrect
        500:
          description: An internal error occured
  /spc/journal/selection:
    post:
      tags:
      - spcjournal
      summary: Get Journal entries
      description: ""
      operationId: getJournalEntries
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: requestBody
        description: SelectorRequestVO in json format
        required: true
        schema:
          $ref: '#/definitions/SelectorRequestVO'
      - name: site
        in: query
        description: Comma seperated sites
        required: false
        type: string
      responses:
        200:
          description: Successful retrieval of journal entries
          schema:
            $ref: '#/definitions/ResponseWrapper'
        204:
          description: No journal entries where found for this request
        400:
          description: The request body is incorrect
        500:
          description: Data retrieval services are not available
  /spc/journal/{jobId}/{opSeq}/{opCode}:
    get:
      tags:
      - spcjournal
      summary: Get failed spc's
      description: Get List of journalEntries for spc's that have failed
      operationId: getFailedJournals
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: job identifier
        in: path
        required: true
        type: string
      - name: operation sequence
        in: path
        required: true
        type: string
      - name: operation code
        in: path
        required: true
        type: string
      responses:
        200:
          description: Successful retrieval of journal entries
          schema:
            type: array
            items:
              $ref: '#/definitions/SpcJournalEntry'
        204:
          description: No journal entries where found for this jobId, opSeq and opCode
            combination
        400:
          description: The request body is incorrect
        500:
          description: Data retrieval services are not available
schemes:
- http
- https
definitions: !php/object "O:8:\"stdClass\":12:{s:10:\"ActionType\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":1:{s:4:\"name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:11:\"BlockAction\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:1:{i:0;s:15:\"blockActionType\";}s:10:\"properties\";O:8:\"stdClass\":4:{s:2:\"id\";O:8:\"stdClass\":2:{s:4:\"type\";s:7:\"integer\";s:6:\"format\";s:5:\"int64\";}s:4:\"type\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:24:\"#/definitions/ActionType\";}s:7:\"comment\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:15:\"blockActionType\";O:8:\"stdClass\":2:{s:11:\"description\";s:28:\"The
  type of lot block action\";s:4:\"$ref\";s:29:\"#/definitions/BlockActionType\";}}}s:15:\"BlockActionType\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":1:{s:4:\"name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:7:\"Control\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:12:{i:0;s:7:\"comment\";i:1;s:11:\"controlType\";i:2;s:2:\"id\";i:3;s:9:\"manualLCL\";i:4;s:12:\"manualTarget\";i:5;s:9:\"manualUCL\";i:6;s:4:\"name\";i:7;s:9:\"predicate\";i:8;s:8:\"spcLevel\";i:9;s:7:\"trigram\";i:10;s:9:\"useManual\";i:11;s:8:\"wecoRule\";}s:10:\"properties\";O:8:\"stdClass\":22:{s:2:\"id\";O:8:\"stdClass\":3:{s:4:\"type\";s:7:\"integer\";s:6:\"format\";s:5:\"int32\";s:8:\"position\";i:1;}s:4:\"name\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:2;}s:9:\"predicate\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:3;}s:11:\"controlType\";O:8:\"stdClass\":2:{s:8:\"position\";i:4;s:4:\"$ref\";s:25:\"#/definitions/ControlType\";}s:12:\"controlParam\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:5;}s:7:\"calcLCL\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"number\";s:6:\"format\";s:6:\"double\";s:8:\"position\";i:6;s:11:\"description\";s:30:\"Calculated
  lower control limit\";}s:10:\"calcTarget\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"number\";s:6:\"format\";s:6:\"double\";s:8:\"position\";i:7;s:11:\"description\";s:17:\"Calculated
  target\";}s:7:\"calcUCL\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"number\";s:6:\"format\";s:6:\"double\";s:8:\"position\";i:8;s:11:\"description\";s:30:\"Calculated
  upper control limit\";}s:9:\"manualLCL\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"number\";s:6:\"format\";s:6:\"double\";s:8:\"position\";i:9;s:11:\"description\";s:26:\"Manual
  lower control limit\";}s:12:\"manualTarget\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"number\";s:6:\"format\";s:6:\"double\";s:8:\"position\";i:10;s:11:\"description\";s:13:\"Manual
  target\";}s:9:\"manualUCL\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"number\";s:6:\"format\";s:6:\"double\";s:8:\"position\";i:11;s:11:\"description\";s:26:\"Manual
  upper control limit\";}s:9:\"useManual\";O:8:\"stdClass\":4:{s:4:\"type\";s:7:\"boolean\";s:8:\"position\";i:12;s:11:\"description\";s:28:\"Use
  manual limits as boolean\";s:7:\"default\";b:0;}s:8:\"wecoRule\";O:8:\"stdClass\":2:{s:8:\"position\";i:13;s:4:\"$ref\";s:22:\"#/definitions/WecoRule\";}s:11:\"mailActions\";O:8:\"stdClass\":4:{s:4:\"type\";s:5:\"array\";s:8:\"position\";i:14;s:11:\"description\";s:20:\"List
  of mail actions\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:24:\"#/definitions/MailAction\";}}s:12:\"blockActions\";O:8:\"stdClass\":4:{s:4:\"type\";s:5:\"array\";s:8:\"position\";i:15;s:11:\"description\";s:25:\"List
  of lot block actions\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:25:\"#/definitions/BlockAction\";}}s:7:\"trigram\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:16;s:11:\"description\";s:12:\"User
  trigram\";}s:7:\"comment\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:17;s:11:\"description\";s:12:\"User
  comment\";}s:6:\"active\";O:8:\"stdClass\":4:{s:4:\"type\";s:7:\"boolean\";s:8:\"position\";i:18;s:11:\"description\";s:31:\"Activate
  SPC setting as boolean\";s:7:\"default\";b:0;}s:9:\"timestamp\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"string\";s:6:\"format\";s:9:\"date-time\";s:8:\"position\";i:19;s:11:\"description\";s:47:\"SPC
  setting creation as timestamp with timezone\";}s:10:\"originalId\";O:8:\"stdClass\":3:{s:4:\"type\";s:7:\"integer\";s:6:\"format\";s:5:\"int32\";s:8:\"position\";i:20;}s:7:\"enabled\";O:8:\"stdClass\":3:{s:4:\"type\";s:7:\"boolean\";s:8:\"position\";i:21;s:7:\"default\";b:0;}s:8:\"spcLevel\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:22;s:4:\"enum\";a:2:{i:0;s:5:\"WAFER\";i:1;s:3:\"LOT\";}}}}s:11:\"ControlType\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":1:{s:4:\"name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:16:\"ExceptionWrapper\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:2:{i:0;s:5:\"cause\";i:1;s:7:\"message\";}s:10:\"properties\";O:8:\"stdClass\":2:{s:7:\"message\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:1;s:11:\"description\";s:17:\"Exception
  message\";}s:5:\"cause\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:2;s:11:\"description\";s:15:\"Exception
  cause\";}}}s:10:\"MailAction\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":4:{s:2:\"id\";O:8:\"stdClass\":2:{s:4:\"type\";s:7:\"integer\";s:6:\"format\";s:5:\"int64\";}s:4:\"type\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:24:\"#/definitions/ActionType\";}s:7:\"comment\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:7:\"content\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:15:\"ResponseWrapper\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:1:{i:0;s:14:\"resultsPerSite\";}s:10:\"properties\";O:8:\"stdClass\":1:{s:14:\"resultsPerSite\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"object\";s:8:\"position\";i:1;s:11:\"description\";s:23:\"results
  mapped per site\";s:20:\"additionalProperties\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:26:\"#/definitions/SiteResponse\";}}}}s:17:\"SelectorRequestVO\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":9:{s:8:\"dateFrom\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"dateTill\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"products\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:5:\"steps\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:4:\"lots\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:6:\"wafers\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:10:\"facilities\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:8:\"machines\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:9:\"lotSearch\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:12:\"SiteResponse\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:1:{i:0;s:10:\"statusCode\";}s:10:\"properties\";O:8:\"stdClass\":3:{s:10:\"statusCode\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:1;s:11:\"description\";s:22:\"The
  returned HTTP code\";}s:9:\"exception\";O:8:\"stdClass\":3:{s:8:\"position\";i:2;s:11:\"description\";s:32:\"The
  wrapper of thrown exceptions\";s:4:\"$ref\";s:30:\"#/definitions/ExceptionWrapper\";}s:4:\"data\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:3;s:11:\"description\";s:23:\"The
  data in json format\";}}}s:15:\"SpcJournalEntry\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:14:{i:0;s:11:\"createdTime\";i:1;s:2:\"id\";i:2;s:5:\"lotId\";i:3;s:6:\"opCode\";i:4;s:5:\"opSeq\";i:5;s:7:\"product\";i:6;s:6:\"result\";i:7;s:9:\"setupTime\";i:8;s:12:\"spcSettingId\";i:9;s:14:\"spcSettingName\";i:10;s:4:\"step\";i:11;s:11:\"updatedTime\";i:12;s:5:\"value\";i:13;s:7:\"waferId\";}s:10:\"properties\";O:8:\"stdClass\":17:{s:2:\"id\";O:8:\"stdClass\":3:{s:4:\"type\";s:7:\"integer\";s:6:\"format\";s:5:\"int32\";s:8:\"position\";i:1;}s:5:\"lotId\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:2;s:11:\"description\";s:12:\"Job/Lot
  name\";}s:7:\"waferId\";O:8:\"stdClass\":4:{s:4:\"type\";s:7:\"integer\";s:6:\"format\";s:5:\"int32\";s:8:\"position\";i:3;s:11:\"description\";s:17:\"Sublot/Wafer
  name\";}s:12:\"spcSettingId\";O:8:\"stdClass\":4:{s:4:\"type\";s:7:\"integer\";s:6:\"format\";s:5:\"int32\";s:8:\"position\";i:4;s:11:\"description\";s:26:\"Id
  of executed spc setting\";}s:14:\"spcSettingName\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:5;s:11:\"description\";s:28:\"Name
  of exectued spc setting\";}s:7:\"product\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:6;s:11:\"description\";s:12:\"Product
  name\";}s:4:\"step\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:7;s:11:\"description\";s:9:\"Step
  name\";}s:6:\"result\";O:8:\"stdClass\":4:{s:4:\"type\";s:7:\"boolean\";s:8:\"position\";i:8;s:11:\"description\";s:23:\"Result
  value as boolean\";s:7:\"default\";b:0;}s:5:\"value\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"number\";s:6:\"format\";s:6:\"double\";s:8:\"position\";i:9;s:11:\"description\";s:26:\"Calculated
  value as double\";}s:10:\"erpChecked\";O:8:\"stdClass\":4:{s:4:\"type\";s:7:\"boolean\";s:8:\"position\";i:10;s:11:\"description\";s:41:\"Verification
  if erp is checked as boolean\";s:7:\"default\";b:0;}s:5:\"opSeq\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:11;s:11:\"description\";s:18:\"Operation
  sequence\";}s:6:\"opCode\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:12;s:11:\"description\";s:14:\"Operation
  code\";}s:9:\"setupTime\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"string\";s:6:\"format\";s:9:\"date-time\";s:8:\"position\";i:13;s:11:\"description\";s:37:\"Setup
  time as timestamp with timezone\";}s:11:\"createdTime\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"string\";s:6:\"format\";s:9:\"date-time\";s:8:\"position\";i:14;s:11:\"description\";s:49:\"Journal
  entry creation as timestamp with timezone\";}s:11:\"updatedTime\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"string\";s:6:\"format\";s:9:\"date-time\";s:8:\"position\";i:15;s:11:\"description\";s:44:\"Last
  updated time as timestamp with timezone\";}s:6:\"reason\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:16;s:11:\"description\";s:18:\"Reason
  for failure\";}s:16:\"blockActionTypes\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:8:\"position\";i:17;s:11:\"description\";s:53:\"Lot
  block action type by spc setting for this journal\";}}}s:8:\"WecoRule\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":1:{s:4:\"name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}}"
...
