---
swagger: "2.0"
info: !php/object "O:8:\"stdClass\":3:{s:11:\"description\";s:212:\"WeConnect provides
  a platform that brings businesses and individuals together by creating awareness
  for businesses and giving the users the ability to write reviews about the businesses
  they have interacted with.\";s:7:\"version\";s:3:\"2.0\";s:5:\"title\";s:9:\"WeConnect\";}"
host: weconnect1-api.herokuapp.com
basePath: /api/v2
paths:
  /auth/register:
    post:
      tags:
      - Users
      summary: Creates a new user.
      description: The auth register endpoint registers new users on weconnect. On
        success the `response status` will be `201` and message object to confirm
        user was created
      consumes:
      - application/json
      parameters:
      - in: body
        name: user
        description: The user to create.
        required: false
        schema:
          $ref: '#/definitions/User'
      responses:
        201:
          description: User created
        400:
          description: Wrong information
  /auth/login:
    post:
      tags:
      - Users
      summary: Log in the user
      description: The login end point will authenticate users to use Weconnect Api.
        The endpoint will acccept two parameters `username` and `password` as a json
        object. On success the user should get json response with a token key, else
        the user will get an error message encoded in a jjson object
      consumes:
      - application/json
      parameters:
      - in: body
        name: login
        description: login user.
        required: false
        schema:
          $ref: '#/definitions/Login'
      responses:
        200:
          description: logged in, Token generated
        400:
          description: login fields required
  /auth/reset-password:
    put:
      tags:
      - Users
      summary: Reset user password
      description: The reset user password endpoints allows authenticated users to
        reset their passwords. This end point requires the user to pass a `access-token`
        header with the value of the header ask the `auth key` received on login
      consumes:
      - application/json
      parameters:
      - in: body
        name: reset_password
        description: resets user password.
        required: false
        schema:
          $ref: '#/definitions/reset_password'
      - name: access-token
        in: header
        description: authentication token
        required: true
        type: string
      responses:
        200:
          description: password changed
        401:
          description: password change failed
  /auth/update-profile:
    put:
      tags:
      - Users
      summary: Updates user profile
      description: The reset update profile endpoint allows authenticated users to
        update their profile information. This end point requires the user to pass
        a `access-token` header
      consumes:
      - application/json
      parameters:
      - in: body
        name: update_profile
        description: Required field for update profile endpoint.
        required: false
        schema:
          $ref: '#/definitions/update_profile'
      - name: access-token
        in: header
        description: authentication token
        required: true
        type: string
      responses:
        200:
          description: Profile updated
        401:
          description: profile update failed
  /auth/logout:
    post:
      tags:
      - Users
      summary: Log out the user
      description: The endpoint `auth logout` will logout the currectly logged in
        user
      consumes:
      - application/json
      parameters:
      - name: access-token
        in: header
        description: an authorization header
        required: true
        type: string
      responses:
        200:
          description: Logged out
  /businesses:
    get:
      tags:
      - Businesses
      summary: Get all registered businesses
      description: This endpoint will return a json object of all registered businesses.
        Authentication token is required to use this endpoint
      consumes:
      - application/json
      parameters: []
      responses:
        200:
          description: return all businesses
    post:
      tags:
      - Businesses
      summary: Creates A new business
      description: This end poit accepts usiness data in an json objects, creates
        a business and returns a json response
      consumes:
      - application/json
      parameters:
      - in: body
        name: business
        description: business name.
        required: false
        schema:
          $ref: '#/definitions/Business'
      - name: access-token
        in: header
        description: an authorization header
        required: true
        type: string
      responses:
        201:
          description: Business created
        401:
          description: Error occured
  /businesses/user:
    get:
      tags:
      - Businesses
      summary: Get all current user businesses
      description: This endpoint will return a json object of all registered businesses.
        Authentication token is required to use this endpoint
      consumes:
      - application/json
      parameters:
      - name: access-token
        in: header
        description: authentication token
        required: true
        type: string
      responses:
        200:
          description: return all businesses
  /business/{businessId}:
    put:
      tags:
      - Businesses
      summary: Updates business information
      description: This endpoint acccepts json paremeters. To update a business you
        must be the user that created the business  the user that created it
      consumes:
      - application/json
      parameters:
      - in: body
        name: business data
        description: business name.
        required: false
        schema:
          $ref: '#/definitions/Business'
      - name: businessId
        in: path
        description: Id of business to list reviews for
        required: true
        type: integer
      - name: access-token
        in: header
        description: an authorization header
        required: true
        type: string
      responses:
        201:
          description: Update business
        401:
          description: Error occured
    delete:
      tags:
      - Businesses
      summary: Delete a business
      description: This end point will delete the business. to delete a business you
        must be
      consumes:
      - application/json
      parameters:
      - name: businessId
        in: path
        description: Id of business to list reviews for
        required: true
        type: integer
      - name: access-token
        in: header
        description: an authorization header
        required: true
        type: string
      responses:
        200:
          description: OK
  /businesses/{businessId}/reviews:
    get:
      tags:
      - Reviews
      summary: Get business reviews
      description: This endpoint will get all review for a business if business exists
        and the user is looged in
      consumes:
      - application/json
      parameters:
      - name: businessId
        in: path
        description: Id of business to list reviews for
        required: true
        type: integer
      responses:
        200:
          description: OK
    post:
      tags:
      - Reviews
      summary: Review a business
      description: This endpoint will add a review for a business. if business exists
        and the user is looged in
      consumes:
      - application/json
      parameters:
      - in: body
        name: business
        description: business name.
        required: false
        schema:
          $ref: '#/definitions/Review'
      - name: businessId
        in: path
        description: Id of business to list reviews for
        required: true
        type: integer
      - name: access-token
        in: header
        description: authentication token
        required: true
        type: string
      responses:
        200:
          description: OK
    delete:
      tags:
      - Reviews
      summary: Delete a business review
      description: this endpoint will delete a review.
      consumes:
      - application/json
      parameters:
      - name: businessId
        in: path
        description: Id of business to Delete reviews for
        required: true
        type: integer
      - name: access-token
        in: header
        description: authentication token
        required: true
        type: string
      responses:
        200:
          description: OK
        401:
          description: Business not found
produces:
- application/json
schemes:
- https
- http
definitions: !php/object "O:8:\"stdClass\":6:{s:5:\"Login\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:2:{i:0;s:8:\"password\";i:1;s:8:\"username\";}s:10:\"properties\";O:8:\"stdClass\":2:{s:8:\"username\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"password\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:7:\"example\";O:8:\"stdClass\":2:{s:8:\"password\";s:8:\"password\";s:8:\"username\";s:8:\"username\";}}s:8:\"Business\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:4:{i:0;s:3:\"bio\";i:1;s:8:\"category\";i:2;s:8:\"location\";i:3;s:4:\"name\";}s:10:\"properties\";O:8:\"stdClass\":4:{s:4:\"name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"location\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"category\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:3:\"bio\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:7:\"example\";O:8:\"stdClass\":4:{s:4:\"name\";s:4:\"name\";s:3:\"bio\";s:3:\"bio\";s:8:\"location\";s:8:\"location\";s:8:\"category\";s:8:\"category\";}}s:4:\"User\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:5:{i:0;s:5:\"email\";i:1;s:10:\"first_name\";i:2;s:9:\"last_name\";i:3;s:8:\"password\";i:4;s:8:\"username\";}s:10:\"properties\";O:8:\"stdClass\":5:{s:8:\"username\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:5:\"email\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"password\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:10:\"first_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:9:\"last_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:7:\"example\";O:8:\"stdClass\":5:{s:8:\"password\";s:8:\"password\";s:9:\"last_name\";s:9:\"last_name\";s:10:\"first_name\";s:10:\"first_name\";s:5:\"email\";s:5:\"email\";s:8:\"username\";s:8:\"username\";}}s:6:\"Review\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:2:{i:0;s:6:\"review\";i:1;s:5:\"title\";}s:10:\"properties\";O:8:\"stdClass\":2:{s:5:\"title\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:6:\"review\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:7:\"example\";O:8:\"stdClass\":2:{s:6:\"review\";s:6:\"review\";s:5:\"title\";s:5:\"title\";}}s:14:\"reset_password\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:2:{i:0;s:12:\"old_password\";i:1;s:8:\"password\";}s:10:\"properties\";O:8:\"stdClass\":2:{s:8:\"password\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:12:\"old_password\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:14:\"update_profile\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:5:{i:0;s:5:\"email\";i:1;s:10:\"first_name\";i:2;s:5:\"image\";i:3;s:9:\"last_name\";i:4;s:8:\"username\";}s:10:\"properties\";O:8:\"stdClass\":5:{s:8:\"username\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:10:\"first_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:9:\"last_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:5:\"email\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:5:\"image\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}}"
...
