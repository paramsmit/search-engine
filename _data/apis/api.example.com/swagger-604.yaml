---
swagger: "2.0"
info: !php/object "O:8:\"stdClass\":5:{s:11:\"description\";s:348:\"API Documentation
  for LEMAConsole_EXT, LEMAConsole_INT, & LEMAgent. Project Summary: Lema aims to
  provide a cohesive and powerful solution to interacting with the Raspberry Pi's
  GPIO capabilities. The Lema Agent runs on the Raspberry Pi and communicates with
  the Lema Console, which provides a GUI webpage and API pathways for external integration.\";s:7:\"version\";s:5:\"1.0.0\";s:5:\"title\";s:8:\"Lema
  API\";s:7:\"contact\";O:8:\"stdClass\":2:{s:4:\"name\";s:17:\"Github Repository\";s:3:\"url\";s:32:\"https://github.com/RAK3RMAN/Lema\";}s:7:\"license\";O:8:\"stdClass\":2:{s:4:\"name\";s:11:\"MIT
  License\";s:3:\"url\";s:52:\"https://github.com/RAK3RMAN/Lema/blob/master/LICENSE\";}}"
paths:
  /api/node/create:
    post:
      tags:
      - LEMAConsole_INT
      summary: Create a new node
      description: ""
      consumes:
      - application/json
      - application/xml
      produces:
      - application/json
      - application/xml
      parameters:
      - in: body
        name: body
        description: Body parameters that are sent inside of api request
        required: true
        schema:
          $ref: '#/definitions/node'
      responses:
        200:
          description: Success
        500:
          description: Internal Server Error
  /api/node/details:
    get:
      tags:
      - LEMAConsole_INT
      summary: Give details about the node requested
      description: ""
      consumes:
      - application/json
      - application/xml
      produces:
      - application/json
      - application/xml
      parameters:
      - in: body
        name: body
        description: Body parameters that are sent inside of api request
        required: true
        schema:
          $ref: '#/definitions/node_id_model'
      responses:
        200:
          description: Success
        500:
          description: Internal Server Error
  /api/node/details/all:
    get:
      tags:
      - LEMAConsole_INT
      summary: List all nodes in database
      description: ""
      consumes:
      - application/json
      - application/xml
      produces:
      - application/json
      - application/xml
      responses:
        200:
          description: Success
        500:
          description: Internal Server Error
  /api/node/edit:
    post:
      tags:
      - LEMAConsole_INT
      summary: Edit an existing node
      description: ""
      consumes:
      - application/json
      - application/xml
      produces:
      - application/json
      - application/xml
      parameters:
      - in: body
        name: body
        description: Body parameters that are sent inside of api request
        required: true
        schema:
          $ref: '#/definitions/node'
      responses:
        200:
          description: Success
        500:
          description: Internal Server Error
  /api/node/scan_range:
    post:
      tags:
      - LEMAConsole_INT
      summary: Set scan range of node discovery tool
      description: ""
      consumes:
      - application/json
      - application/xml
      produces:
      - application/json
      - application/xml
      parameters:
      - in: body
        name: body
        description: Body parameters that are sent inside of api request
        required: true
        schema:
          $ref: '#/definitions/scan_range'
      responses:
        200:
          description: Success
        500:
          description: Internal Server Error
    get:
      tags:
      - LEMAConsole_INT
      summary: Get scan range of node discovery tool
      description: ""
      consumes:
      - application/json
      - application/xml
      produces:
      - application/json
      - application/xml
      responses:
        200:
          description: Success
        500:
          description: Internal Server Error
  /api/node/setup:
    post:
      tags:
      - LEMAConsole_INT
      summary: Setup a node running LEMAgent
      description: ""
      consumes:
      - application/json
      - application/xml
      produces:
      - application/json
      - application/xml
      parameters:
      - in: body
        name: body
        description: Body parameters that are sent inside of api request
        required: true
        schema:
          $ref: '#/definitions/node_id_model'
      responses:
        200:
          description: Success
        500:
          description: Internal Server Error
  /api/node/hide:
    post:
      tags:
      - LEMAConsole_INT
      summary: Set the status of a node to hidden
      description: ""
      consumes:
      - application/json
      - application/xml
      produces:
      - application/json
      - application/xml
      parameters:
      - in: body
        name: body
        description: Body parameters that are sent inside of api request
        required: true
        schema:
          $ref: '#/definitions/node_id_model'
      responses:
        200:
          description: Success
        500:
          description: Internal Server Error
  /api/dash_details:
    get:
      tags:
      - LEMAConsole_INT
      summary: Get all data and statistics for the main dashboard
      description: ""
      consumes:
      - application/json
      - application/xml
      produces:
      - application/json
      - application/xml
      responses:
        200:
          description: Success
        500:
          description: Internal Server Error
  /api/sys_check:
    get:
      tags:
      - LEMAConsole_INT
      summary: Check the system status and return
      description: This API only is available when LEMAConsole is in setup mode
      consumes:
      - application/json
      - application/xml
      produces:
      - application/json
      - application/xml
      responses:
        200:
          description: Success
        500:
          description: Internal Server Error
  /api/sys_setup:
    post:
      tags:
      - LEMAConsole_INT
      summary: Setup LEMAConsole with given parameters
      description: This API only is available when LEMAConsole is in setup mode
      consumes:
      - application/json
      - application/xml
      produces:
      - application/json
      - application/xml
      parameters:
      - in: body
        name: body
        description: Body parameters that are sent inside of api request
        required: true
        schema:
          $ref: '#/definitions/console_setup'
      responses:
        200:
          description: Success
        500:
          description: Internal Server Error
  /api/user/theme:
    post:
      tags:
      - LEMAConsole_INT
      summary: Update the console theme of a given user
      description: ""
      consumes:
      - application/json
      - application/xml
      produces:
      - application/json
      - application/xml
      parameters:
      - in: body
        name: body
        description: Body parameters that are sent inside of api request
        required: true
        schema:
          $ref: '#/definitions/user_theme'
      responses:
        200:
          description: Success
        500:
          description: Internal Server Error
  /api/user/update:
    post:
      tags:
      - LEMAConsole_INT
      summary: Edit an existing user
      description: ""
      consumes:
      - application/json
      - application/xml
      produces:
      - application/json
      - application/xml
      parameters:
      - in: body
        name: body
        description: Body parameters that are sent inside of api request
        required: true
        schema:
          $ref: '#/definitions/user'
      responses:
        200:
          description: Success
        500:
          description: Internal Server Error
  /lema-agent/broadcast:
    get:
      tags:
      - LEMAgent
      summary: Get information about node
      description: ""
      consumes:
      - application/json
      - application/xml
      produces:
      - application/json
      - application/xml
      responses:
        200:
          description: Success
        500:
          description: Internal Server Error
  /lema-agent/setup:
    post:
      tags:
      - LEMAgent
      summary: Request to setup node after discovery
      description: ""
      consumes:
      - application/json
      - application/xml
      produces:
      - application/json
      - application/xml
      parameters:
      - in: body
        name: body
        description: Body parameters that are sent inside of api request
        required: true
        schema:
          $ref: '#/definitions/agent_setup'
      responses:
        200:
          description: Success
        500:
          description: Internal Server Error
schemes:
- http
definitions: !php/object "O:8:\"stdClass\":7:{s:4:\"node\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":5:{s:7:\"node_id\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:9:\"node_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:11:\"node_status\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:9:\"node_type\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:7:\"node_ip\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:3:\"xml\";O:8:\"stdClass\":1:{s:4:\"name\";s:4:\"node\";}}s:4:\"user\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":6:{s:3:\"_id\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:11:\"local.email\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:14:\"local.password\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:18:\"details.first_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:17:\"details.last_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:21:\"details.console_theme\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:3:\"xml\";O:8:\"stdClass\":1:{s:4:\"name\";s:4:\"node\";}}s:10:\"scan_range\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":2:{s:11:\"start_range\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:9:\"end_range\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:3:\"xml\";O:8:\"stdClass\":1:{s:4:\"name\";s:4:\"node\";}}s:13:\"node_id_model\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":1:{s:7:\"node_id\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:3:\"xml\";O:8:\"stdClass\":1:{s:4:\"name\";s:4:\"node\";}}s:13:\"console_setup\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":6:{s:5:\"email\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"password\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:10:\"first_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:9:\"last_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:11:\"mongodb_url\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:12:\"console_port\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:3:\"xml\";O:8:\"stdClass\":1:{s:4:\"name\";s:4:\"node\";}}s:10:\"user_theme\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":2:{s:6:\"userID\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:5:\"theme\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:3:\"xml\";O:8:\"stdClass\":1:{s:4:\"name\";s:4:\"node\";}}s:11:\"agent_setup\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":2:{s:10:\"console_ip\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:14:\"console_secret\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:3:\"xml\";O:8:\"stdClass\":1:{s:4:\"name\";s:4:\"node\";}}}"
...
