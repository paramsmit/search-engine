---
swagger: "2.0"
info: !php/object "O:8:\"stdClass\":2:{s:5:\"title\";s:13:\"account.proto\";s:7:\"version\";s:15:\"version
  not set\";}"
paths:
  /api/account/admins:
    post:
      summary: Creates a new admin
      operationId: CreateAdmin
      responses:
        200:
          description: A successful response.
          schema:
            properties: []
      parameters:
      - name: body
        in: body
        required: true
        schema:
          $ref: '#/definitions/accountCreateAdminRequest'
      tags:
      - AccountAPI
  /api/account/admins/auth:
    post:
      summary: Authenticates admin to check if they are logged in and have valid token
      operationId: AuthenticateAdmin
      responses:
        200:
          description: A successful response.
          schema:
            $ref: '#/definitions/accountAuthenticateResponse'
      parameters:
      - name: body
        in: body
        required: true
        schema:
          $ref: '#/definitions/accountAuthenticateAdminRequest'
      tags:
      - AccountAPI
  /api/account/admins/login:
    post:
      summary: Authenticates admins when they log in to their account
      operationId: LoginAdmin
      responses:
        200:
          description: A successful response.
          schema:
            $ref: '#/definitions/accountLoginResponse'
      parameters:
      - name: body
        in: body
        required: true
        schema:
          $ref: '#/definitions/accountLoginAdminRequest'
      tags:
      - AccountAPI
  /api/account/admins/{user_name}:
    get:
      summary: GetAdmin retrieves an admin profile
      operationId: GetAdmin
      responses:
        200:
          description: A successful response.
          schema:
            $ref: '#/definitions/accountAdmin'
      parameters:
      - name: user_name
        in: path
        required: true
        type: string
      tags:
      - AccountAPI
  /api/account/token:
    get:
      summary: Retrieves default token for default user
      operationId: GetDefaultToken
      responses:
        200:
          description: A successful response.
          schema:
            $ref: '#/definitions/accountLoginResponse'
      tags:
      - AccountAPI
  /api/account/users:
    get:
      summary: Lists all user in the database. Admins only
      operationId: ListUsers
      responses:
        200:
          description: A successful response.(streaming responses)
          schema:
            $ref: '#/definitions/accountProfile'
      tags:
      - AccountAPI
    post:
      summary: Creates a user
      operationId: CreateUser
      responses:
        200:
          description: A successful response.
          schema:
            properties: []
      parameters:
      - name: body
        in: body
        required: true
        schema:
          $ref: '#/definitions/accountCreateUserRequest'
      tags:
      - AccountAPI
  /api/account/users/auth:
    post:
      summary: Authenticates a user to check if they are logged in and with valid
        token.
      operationId: AuthenticateUser
      responses:
        200:
          description: A successful response.
          schema:
            $ref: '#/definitions/accountAuthenticateResponse'
      parameters:
      - name: body
        in: body
        required: true
        schema:
          $ref: '#/definitions/accountAuthenticateUserRequest'
      tags:
      - AccountAPI
  /api/account/users/login:
    post:
      summary: Authenticates a user to login into their account
      operationId: Login
      responses:
        200:
          description: A successful response.
          schema:
            $ref: '#/definitions/accountLoginResponse'
      parameters:
      - name: body
        in: body
        required: true
        schema:
          $ref: '#/definitions/accountLoginRequest'
      tags:
      - AccountAPI
  /api/account/users/profile:
    get:
      summary: Retrieves a user profile
      operationId: GetUser
      responses:
        200:
          description: A successful response.
          schema:
            $ref: '#/definitions/accountProfile'
      parameters:
      - name: email
        in: query
        required: false
        type: string
      - name: phone
        in: query
        required: false
        type: string
      tags:
      - AccountAPI
produces:
- application/json
schemes:
- http
- https
definitions: !php/object "O:8:\"stdClass\":15:{s:12:\"accountAdmin\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":7:{s:10:\"first_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:9:\"last_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:12:\"phone_number\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:13:\"email_address\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:9:\"user_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:5:\"level\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:31:\"#/definitions/accountAdminLevel\";}s:15:\"trusted_devices\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:5:\"title\";s:35:\"Admin
  represents administrator user\";}s:17:\"accountAdminLevel\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"string\";s:4:\"enum\";a:3:{i:0;s:6:\"READER\";i:1;s:20:\"READER_AND_ONLY_FOOD\";i:2;s:11:\"SUPER_ADMIN\";}s:7:\"default\";s:6:\"READER\";s:5:\"title\";s:50:\"AdminLevel
  is the administrative level of an admin\";}s:31:\"accountAuthenticateAdminRequest\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":2:{s:8:\"username\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:5:\"level\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:31:\"#/definitions/accountAdminLevel\";}}s:5:\"title\";s:29:\"Request
  to authenticate admin\";}s:27:\"accountAuthenticateResponse\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":1:{s:5:\"valid\";O:8:\"stdClass\":3:{s:4:\"type\";s:7:\"boolean\";s:6:\"format\";s:7:\"boolean\";s:5:\"title\";s:42:\"whether
  the user validation was successful\";}}s:5:\"title\";s:38:\"Response from AuthenticateUser
  request\";}s:30:\"accountAuthenticateUserRequest\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":2:{s:5:\"email\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:5:\"phone\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:5:\"title\";s:30:\"Request
  to authenticate a user\";}s:25:\"accountCreateAdminRequest\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":3:{s:20:\"super_admin_username\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:9:\"new_admin\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:26:\"#/definitions/accountAdmin\";}s:13:\"admin_private\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:35:\"#/definitions/accountPrivateProfile\";}}s:5:\"title\";s:29:\"Request
  to create a new admin\";}s:24:\"accountCreateUserRequest\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":3:{s:10:\"request_id\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:5:\"title\";s:39:\"request_id
  to detect duplicate requests\";}s:7:\"profile\";O:8:\"stdClass\":2:{s:4:\"$ref\";s:28:\"#/definitions/accountProfile\";s:5:\"title\";s:24:\"User
  profile information\";}s:15:\"private_profile\";O:8:\"stdClass\":2:{s:4:\"$ref\";s:35:\"#/definitions/accountPrivateProfile\";s:5:\"title\";s:19:\"Private
  information\";}}s:5:\"title\";s:28:\"Request to create an account\";}s:15:\"accountFacebook\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":7:{s:10:\"first_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:9:\"last_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:12:\"phone_number\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:13:\"email_address\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:11:\"profile_url\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:6:\"gender\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:10:\"birth_date\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:5:\"title\";s:58:\"Facebook
  is request payload to login with facebook account\";}s:13:\"accountGoogle\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":7:{s:10:\"first_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:9:\"last_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:12:\"phone_number\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:13:\"email_address\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:11:\"profile_url\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:6:\"gender\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:10:\"birth_date\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:5:\"title\";s:55:\"Google
  is request payload to login using google account\";}s:24:\"accountLoginAdminRequest\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":2:{s:8:\"username\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"password\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:5:\"title\";s:26:\"Request
  to login the admin\";}s:19:\"accountLoginRequest\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":3:{s:8:\"facebook\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:29:\"#/definitions/accountFacebook\";}s:6:\"google\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:27:\"#/definitions/accountGoogle\";}s:5:\"phone\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:26:\"#/definitions/accountPhone\";}}s:5:\"title\";s:16:\"Request
  to login\";}s:20:\"accountLoginResponse\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":1:{s:5:\"token\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:5:\"title\";s:52:\"LoginResponse
  contains jwt token on successful login\";}s:12:\"accountPhone\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":2:{s:5:\"phone\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"password\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:5:\"title\";s:52:\"Phone
  is request payload to login using phone number\";}s:21:\"accountPrivateProfile\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":3:{s:8:\"password\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:17:\"security_question\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:15:\"security_answer\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:5:\"title\";s:51:\"PrivateProfile
  contains private account information\";}s:14:\"accountProfile\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":7:{s:10:\"first_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:9:\"last_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:12:\"phone_number\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:13:\"email_address\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:11:\"profile_url\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:10:\"birth_date\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:6:\"gender\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:5:\"title\";s:33:\"Profile
  contains user information\";}}"
...
