---
swagger: "2.0"
info: !php/object "O:8:\"stdClass\":3:{s:5:\"title\";s:11:\"Shovel APIs\";s:11:\"description\";s:0:\"\";s:7:\"version\";s:5:\"1.0.0\";}"
basePath: /api/1.1
paths:
  /info:
    get:
      x-swagger-router-controller: Shovel
      tags:
      - Shovel Config
      operationId: infoGet
      summary: Get nodes info
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /shovel/config:
    get:
      x-swagger-router-controller: Shovel
      tags:
      - Shovel Config
      operationId: configget
      summary: Get shovel config file
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /shovel/set-config:
    post:
      x-swagger-router-controller: Shovel
      tags:
      - Shovel Config
      operationId: configset
      summary: set shovel config file
      parameters:
      - name: Shovel Config Info
        in: body
        description: Shovel Config Info
        required: true
        schema:
          $ref: '#/definitions/config'
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /shovel/monorail/set-config:
    post:
      x-swagger-router-controller: Shovel
      tags:
      - Shovel Config
      operationId: configsetmono
      summary: set shovel- monorail info
      parameters:
      - name: Shovel Config Info
        in: body
        description: Shovel Config Info
        required: true
        schema:
          $ref: '#/definitions/monorail'
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /shovel/ironic/set-config:
    post:
      x-swagger-router-controller: Shovel
      tags:
      - Shovel Config
      operationId: configsetironic
      summary: set shovel ironic info
      parameters:
      - name: Shovel Config Info
        in: body
        description: Shovel Config Info
        required: true
        schema:
          $ref: '#/definitions/ironic'
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /shovel/glance/set-config:
    post:
      x-swagger-router-controller: Shovel
      tags:
      - Shovel Config
      operationId: configsetglance
      summary: set shovel glance info
      parameters:
      - name: Shovel Config Info
        in: body
        description: Shovel Config Info
        required: true
        schema:
          $ref: '#/definitions/glance'
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /shovel/keystone/set-config:
    post:
      x-swagger-router-controller: Shovel
      tags:
      - Shovel Config
      operationId: configsetkeystone
      summary: set shovel Keystone info
      parameters:
      - name: Shovel Config Info
        in: body
        description: Shovel Config Info
        required: true
        schema:
          $ref: '#/definitions/keystone'
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /catalogs/{identifier}:
    get:
      x-swagger-router-controller: Shovel
      tags:
      - RackHD API Wrappers
      operationId: catalogsGet
      parameters:
      - name: identifier
        in: path
        description: rackhd node ID
        required: true
        type: string
      summary: Get catalog for a specified node
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /catalogs/{identifier}/{source}:
    get:
      x-swagger-router-controller: Shovel
      tags:
      - RackHD API Wrappers
      operationId: catalogsbysourceGet
      parameters:
      - name: identifier
        in: path
        description: rackhd node ID
        required: true
        type: string
      - name: source
        in: path
        description: source
        required: true
        type: string
      summary: Get source in the catalog for a specified node
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /nodes/{identifier}:
    get:
      x-swagger-router-controller: Shovel
      tags:
      - RackHD API Wrappers
      operationId: nodeGet
      parameters:
      - name: identifier
        in: path
        description: rackhd node ID
        required: true
        type: string
      summary: get specific node by id
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /nodes:
    get:
      x-swagger-router-controller: Shovel
      tags:
      - RackHD API Wrappers
      operationId: nodesGet
      summary: get All rackhd Nodes that been discovered with BMC,DMI information
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /nodes/{identifier}/sel:
    get:
      x-swagger-router-controller: Shovel
      tags:
      - RackHD API Wrappers
      operationId: getSeldata
      parameters:
      - name: identifier
        in: path
        description: Node SEL information
        required: true
        type: string
      summary: get current SEL data for specified node ID
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /ironic/nodes:
    get:
      x-swagger-router-controller: Shovel
      tags:
      - Ironic API Wrappers
      operationId: ironicnodesGet
      summary: get All ironic Nodes
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /ironic/node/{identifier}:
    patch:
      x-swagger-router-controller: Shovel
      tags:
      - Ironic API Wrappers
      operationId: ironicnodePatch
      summary: patch specified ironic node
      parameters:
      - name: identifier
        in: path
        description: Ironic node ID
        required: true
        type: string
      - name: patchnode
        in: body
        description: Node patch form data
        required: true
        schema:
          $ref: '#/definitions/patchnode'
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /ironic/chassis/{identifier}:
    get:
      x-swagger-router-controller: Shovel
      tags:
      - Ironic API Wrappers
      operationId: ironicchassisGet
      summary: get Ironic chassis by id
      parameters:
      - name: identifier
        in: path
        description: Ironic node ID
        required: true
        type: string
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /ironic/nodes/{identifier}:
    get:
      x-swagger-router-controller: Shovel
      tags:
      - Ironic API Wrappers
      operationId: ironicnodeGet
      summary: get Ironic node by name
      parameters:
      - name: identifier
        in: path
        description: Ironic node name or ID
        required: true
        type: string
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /register:
    post:
      x-swagger-router-controller: Shovel
      tags:
      - Shoveling
      operationId: registerpost
      summary: Register an rackhd node in Ironic
      parameters:
      - name: Node Info
        in: body
        description: Node Registration info
        required: true
        schema:
          $ref: '#/definitions/regnode'
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /unregister/{identifier}:
    delete:
      x-swagger-router-controller: Shovel
      tags:
      - Shoveling
      operationId: unregisterdel
      summary: UnRegister a node from Ironic
      parameters:
      - name: identifier
        in: path
        description: Ironic node ID
        required: true
        type: string
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /ironic/drivers:
    get:
      x-swagger-router-controller: Shovel
      tags:
      - Ironic API Wrappers
      operationId: driversGet
      summary: Get all the drivers used in Ironic
      responses:
        200:
          description: Not implemented
          headers:
            x-expires:
              type: string
        default:
          description: unexpected error
  /glance/images:
    get:
      x-swagger-router-controller: Shovel
      tags:
      - Glance API Wrappers
      operationId: imagesGet
      summary: Get all the images in Glance
      responses:
        200:
          description: Not implemented
          headers:
            x-expires:
              type: string
        default:
          description: unexpected error
  /deployos/{identifier}/:
    post:
      x-swagger-router-controller: Shovel
      tags:
      - Nodes Provisionning
      operationId: deployOS
      summary: Deploy OS to a specific node
      parameters:
      - name: identifier
        in: path
        description: rackHD node ID
        required: true
        type: string
      - name: Config
        in: body
        description: OS Configuration
        required: true
        schema:
          $ref: '#/definitions/deployos'
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /worflow-status/{identifier}:
    get:
      x-swagger-router-controller: Shovel
      tags:
      - Nodes Provisionning
      operationId: workflowStatus
      summary: Get status of an active worflow running on a certain node in rackHD
      parameters:
      - name: identifier
        in: path
        description: rackHD node ID
        required: true
        type: string
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
  /run/ansible-playbook/{identifier}:
    post:
      x-swagger-router-controller: Shovel
      tags:
      - Nodes Provisionning
      operationId: runAnsible
      summary: run the uploaded ansible playbook
      parameters:
      - name: identifier
        in: path
        description: rackHD node ID
        required: true
        type: string
      - name: Config
        in: body
        description: OS Configuration
        required: true
        schema:
          $ref: '#/definitions/run-ansible'
      responses:
        200:
          description: Not Implemented
        default:
          description: unexpected error
produces:
- application/json
definitions: !php/object "O:8:\"stdClass\":9:{s:8:\"monorail\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":3:{s:8:\"httpHost\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"httpPort\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:7:\"version\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:6:\"config\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":1:{s:8:\"httpPort\";O:8:\"stdClass\":2:{s:4:\"type\";s:7:\"integer\";s:6:\"format\";s:5:\"int32\";}}}s:6:\"ironic\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":8:{s:8:\"httpHost\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"httpPort\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:7:\"version\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:11:\"os_username\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:11:\"os_password\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:14:\"os_tenant_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:13:\"os_auth_token\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"insecure\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:6:\"glance\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":8:{s:8:\"httpHost\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"httpPort\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:7:\"version\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:11:\"os_username\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:11:\"os_password\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:14:\"os_tenant_name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:13:\"os_auth_token\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"insecure\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:8:\"keystone\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":3:{s:8:\"httpHost\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"httpPort\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:7:\"version\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:7:\"regnode\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:4:{i:0;s:4:\"uuid\";i:1;s:6:\"kernel\";i:2;s:7:\"ramdisk\";i:3;s:4:\"port\";}s:10:\"properties\";O:8:\"stdClass\":13:{s:4:\"uuid\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:6:\"driver\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"ipmihost\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"ipmiuser\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"ipmipass\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:7:\"sshhost\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:7:\"sshuser\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:7:\"sshpass\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:7:\"sshport\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:4:\"name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:6:\"kernel\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:7:\"ramdisk\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:4:\"port\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:9:\"patchnode\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"object\";}}s:8:\"deployos\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:2:{i:0;s:4:\"name\";i:1;s:7:\"options\";}s:10:\"properties\";O:8:\"stdClass\":2:{s:4:\"name\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:7:\"example\";s:19:\"Graph.InstallCentOS\";}s:7:\"options\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:1:{i:0;s:8:\"defaults\";}s:10:\"properties\";O:8:\"stdClass\":2:{s:8:\"defaults\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":1:{s:14:\"obmServiceName\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:7:\"example\";s:16:\"ipmi-obm-service\";}}}s:10:\"install-os\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":4:{s:4:\"repo\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:12:\"rootPassword\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:5:\"users\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:2:{i:0;s:4:\"name\";i:1;s:8:\"password\";}s:10:\"properties\";O:8:\"stdClass\":3:{s:4:\"name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"password\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:3:\"uid\";O:8:\"stdClass\":1:{s:4:\"type\";s:7:\"integer\";}}}}s:14:\"networkDevices\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:2:{i:0;s:6:\"device\";i:1;s:4:\"ipv4\";}s:10:\"properties\";O:8:\"stdClass\":2:{s:6:\"device\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:4:\"ipv4\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"object\";}}}}}}}}}}s:11:\"run-ansible\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"object\";s:8:\"required\";a:1:{i:0;s:4:\"name\";}s:10:\"properties\";O:8:\"stdClass\":3:{s:4:\"name\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:7:\"example\";s:10:\"runExample\";}s:4:\"vars\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"object\";}s:12:\"playbookPath\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:7:\"example\";s:22:\"files/extract/main.yml\";}}}}"
...
