---
swagger: "2.0"
info: !php/object "O:8:\"stdClass\":4:{s:5:\"title\";s:9:\"poppu-api\";s:11:\"description\";s:33:\"The
  backend api for poppu website\";s:14:\"termsOfService\";s:19:\"https://github.com/\";s:7:\"version\";s:5:\"1.0.0\";}"
paths:
  /auth/register:
    post:
      tags:
      - auth
      description: Authentication
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: body
        description: User info, and secret code
        required: true
        schema:
          type: object
          properties:
            name:
              type: string
            email:
              type: string
            password:
              type: string
            secretCode:
              type: string
      responses:
        200:
          description: User info and token
          schema:
            $ref: '#/definitions/User'
  /auth/login:
    post:
      tags:
      - auth
      description: Authentication
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: body
        description: User info, and secret code
        required: true
        schema:
          type: object
          properties:
            email:
              type: string
            password:
              type: string
      responses:
        200:
          description: User info and token
          schema:
            $ref: '#/definitions/User'
  /auth/verifyToken:
    get:
      tags:
      - auth
      description: Verify Token
      security:
      - poppuApiKey: []
      responses:
        200:
          description: User info and token
          schema:
            $ref: '#/definitions/User'
  /articles:
    get:
      tags:
      - articles
      description: Get articles
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: category
        in: query
        description: article category - get articles by category
        type: string
      - name: paginate
        in: query
        description: number of articles to get
        type: integer
      responses:
        200:
          description: List of articles
          schema:
            type: array
            items:
              $ref: '#/definitions/Article'
    post:
      tags:
      - articles
      description: Create an article
      security:
      - poppuApiKey: []
      parameters:
      - name: body
        in: body
        description: Article data
        required: true
        schema:
          type: object
          properties:
            title:
              type: string
            categories:
              type: array
              items:
                type: string
            thumbnail:
              type: string
            content:
              type: string
            status:
              type: string
      responses:
        200:
          description: Created article
          schema:
            $ref: '#/definitions/Article'
  /articles/{param}:
    get:
      tags:
      - articles
      description: Get article by slug
      parameters:
      - name: param
        in: path
        description: article slug
        required: true
        type: string
      responses:
        200:
          description: get article by slug
          schema:
            $ref: '#/definitions/Article'
    put:
      tags:
      - articles
      description: Update article
      security:
      - poppuApiKey: []
      parameters:
      - name: param
        in: path
        description: Article id
        required: true
        type: integer
      - name: body
        in: body
        description: Article data
        required: true
        schema:
          type: object
          properties:
            title:
              type: string
            categoryId:
              type: integer
            thumbnail:
              type: string
            content:
              type: string
            status:
              type: string
      responses:
        200:
          description: Updated article
          schema:
            $ref: '#/definitions/Article'
    delete:
      tags:
      - articles
      description: Update article
      security:
      - poppuApiKey: []
      parameters:
      - name: param
        in: path
        description: Article id
        required: true
        type: integer
      responses:
        200:
          description: Deleted article id
          schema:
            type: object
            properties:
              id:
                type: integer
  /categories:
    get:
      tags:
      - categories
      description: Get article categories
      responses:
        200:
          description: List of categories
          schema:
            type: array
            items:
              $ref: '#/definitions/Category'
    post:
      tags:
      - categories
      description: Create a category
      parameters:
      - name: body
        in: body
        description: category name
        required: true
        schema:
          type: object
          properties:
            name:
              type: string
      security:
      - poppuApiKey: []
      responses:
        200:
          description: Created article
          schema:
            $ref: '#/definitions/Category'
  /categories/{categoryId}:
    put:
      tags:
      - categories
      description: Update category
      parameters:
      - name: categoryId
        in: path
        description: category id
        required: true
        type: integer
      responses:
        200:
          description: Updated category
          schema:
            $ref: '#/definitions/Category'
    delete:
      tags:
      - categories
      description: Delete category
      parameters:
      - name: categoryId
        in: path
        description: category id
        required: true
        type: integer
      responses:
        200:
          description: Success delete message
          schema:
            type: object
            properties:
              success:
                type: boolean
definitions: !php/object "O:8:\"stdClass\":3:{s:4:\"User\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":4:{s:2:\"id\";O:8:\"stdClass\":1:{s:4:\"type\";s:7:\"integer\";}s:4:\"name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:5:\"email\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:5:\"token\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:7:\"Article\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":7:{s:2:\"id\";O:8:\"stdClass\":1:{s:4:\"type\";s:7:\"integer\";}s:5:\"title\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:10:\"categories\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}s:9:\"thumbnail\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:7:\"content\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:4:\"slug\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:6:\"status\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:8:\"Category\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":2:{s:2:\"id\";O:8:\"stdClass\":1:{s:4:\"type\";s:7:\"integer\";}s:4:\"name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}}"
...
