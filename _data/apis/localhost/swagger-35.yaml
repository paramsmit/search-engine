---
swagger: "2.0"
info: !php/object "O:8:\"stdClass\":4:{s:5:\"title\";s:22:\"Hypercloud Server API.\";s:7:\"contact\";O:8:\"stdClass\":2:{s:4:\"name\";s:15:\"Axel
  Etcheverry\";s:5:\"email\";s:19:\"axel@etcheverry.biz\";}s:7:\"license\";O:8:\"stdClass\":2:{s:4:\"name\";s:3:\"MIT\";s:3:\"url\";s:34:\"http://opensource.org/licenses/MIT\";}s:7:\"version\";s:5:\"1.0.0\";}"
host: localhost
basePath: /v1
paths:
  /v1/deploy/{application_id}/hooks/{provider}:
    get:
      description: Trigger new deployment for {application_id} from {provider}
      tags:
      - Deploy
      operationId: postDeployHookHandler
      responses: []
  /v1/events:
    get:
      description: Get the event list
      tags:
      - Event
      operationId: getEventsHandler
      responses:
        200:
          $ref: '#/responses/Event'
  /v1/nodes:
    get:
      description: Get the nodes list
      tags:
      - Node
      operationId: getNodesHandler
      responses:
        200:
          $ref: '#/responses/Node'
  /v1/services:
    get:
      description: Get the services list
      tags:
      - Service
      operationId: getServicesHandler
      parameters:
      - pattern: ^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$
        type: string
        name: StackID
        in: query
      responses:
        200:
          $ref: '#/responses/Service'
    post:
      description: 'Create servicenRequest: ServiceCreateRequest'
      tags:
      - Service
      operationId: postServiceHandler
      responses:
        201:
          $ref: '#/responses/Service'
  /v1/services/{id}:
    get:
      description: Get a service by id
      tags:
      - Stack
      operationId: getServiceHandler
      responses:
        200:
          $ref: '#/responses/Service'
    post:
      description: 'Update servicenRequest: Service'
      tags:
      - Service
      operationId: putServiceHandler
      responses:
        200:
          $ref: '#/responses/Service'
  /v1/services/{id}/stats:
    get:
      description: Get stats for service by id
      tags:
      - Stack
      operationId: getServiceHandler
      responses:
        200:
          $ref: '#/responses/Service'
  /v1/stacks:
    get:
      description: Get the stacks list
      tags:
      - Stack
      operationId: getStacksHandler
      responses:
        200:
          $ref: '#/responses/Stack'
    post:
      description: Create stack
      tags:
      - Stack
      operationId: postStacksHandler
      responses:
        201:
          $ref: '#/responses/Stack'
  /v1/stacks/{id}:
    get:
      description: Get a stack by id
      tags:
      - Stack
      operationId: getStackHandler
      responses:
        200:
          $ref: '#/responses/Stack'
  /v1/stacks/{id}/services:
    post:
      description: Get stack services list
      tags:
      - Stack
      operationId: getStackServicesHandler
      responses:
        200:
          $ref: '#/responses/Service'
  /v1/version/latest:
    get:
      description: Get the latest version
      tags:
      - Version
      operationId: getVersionEventHandler
      responses:
        200:
          $ref: '#/responses/Version'
produces:
- application/json
schemes:
- https
definitions: !php/object "O:8:\"stdClass\":3:{s:7:\"Service\";O:8:\"stdClass\":5:{s:4:\"type\";s:6:\"object\";s:5:\"title\";s:29:\"Service
  represents a Service.\";s:8:\"required\";a:1:{i:0;s:4:\"name\";}s:10:\"properties\";O:8:\"stdClass\":6:{s:10:\"created_at\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:6:\"format\";s:9:\"date-time\";s:9:\"x-go-name\";s:9:\"CreatedAt\";}s:5:\"hosts\";O:8:\"stdClass\":3:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:9:\"x-go-name\";s:5:\"Hosts\";}s:2:\"id\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:7:\"pattern\";s:69:\"^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$\";s:9:\"x-go-name\";s:2:\"ID\";}s:4:\"name\";O:8:\"stdClass\":5:{s:11:\"description\";s:13:\"Service
  name.\";s:4:\"type\";s:6:\"string\";s:9:\"minLength\";i:3;s:7:\"pattern\";s:26:\"^[a-z0-9]+(?:-[a-z0-9]+)*$\";s:9:\"x-go-name\";s:4:\"Name\";}s:8:\"stack_id\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:7:\"pattern\";s:69:\"^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$\";s:9:\"x-go-name\";s:7:\"StackID\";}s:10:\"updated_at\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:6:\"format\";s:9:\"date-time\";s:9:\"x-go-name\";s:9:\"UpdatedAt\";}}s:12:\"x-go-package\";s:48:\"github.com/hyperscale/hypercloud/database/entity\";}s:5:\"Stack\";O:8:\"stdClass\":5:{s:4:\"type\";s:6:\"object\";s:5:\"title\";s:25:\"Stack
  represents a Stack.\";s:8:\"required\";a:1:{i:0;s:4:\"Name\";}s:10:\"properties\";O:8:\"stdClass\":2:{s:4:\"Name\";O:8:\"stdClass\":4:{s:11:\"description\";s:11:\"Stack
  name.\";s:4:\"type\";s:6:\"string\";s:9:\"minLength\";i:3;s:7:\"pattern\";s:26:\"^[a-z0-9]+(?:-[a-z0-9]+)*$\";}s:8:\"Services\";O:8:\"stdClass\":2:{s:4:\"type\";s:7:\"integer\";s:6:\"format\";s:5:\"int64\";}}s:12:\"x-go-package\";s:48:\"github.com/hyperscale/hypercloud/database/entity\";}s:12:\"StackCompose\";O:8:\"stdClass\":4:{s:4:\"type\";s:6:\"object\";s:5:\"title\";s:40:\"StackCompose
  represents a Stack Compose.\";s:10:\"properties\";O:8:\"stdClass\":5:{s:10:\"created_at\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:6:\"format\";s:9:\"date-time\";s:9:\"x-go-name\";s:9:\"CreatedAt\";}s:2:\"id\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:7:\"pattern\";s:69:\"^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$\";s:9:\"x-go-name\";s:2:\"ID\";}s:8:\"stack_id\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:7:\"pattern\";s:69:\"^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$\";s:9:\"x-go-name\";s:7:\"StackID\";}s:10:\"updated_at\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:6:\"format\";s:9:\"date-time\";s:9:\"x-go-name\";s:9:\"UpdatedAt\";}s:7:\"version\";O:8:\"stdClass\":3:{s:4:\"type\";s:7:\"integer\";s:6:\"format\";s:5:\"int64\";s:9:\"x-go-name\";s:7:\"Version\";}}s:12:\"x-go-package\";s:48:\"github.com/hyperscale/hypercloud/database/entity\";}}"
...
