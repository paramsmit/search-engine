---
swagger: "2.0"
info: !php/object "O:8:\"stdClass\":3:{s:11:\"description\";s:27:\"A Simple Money
  Transfer API\";s:5:\"title\";s:14:\"Money Transfer\";s:7:\"version\";s:2:\"v1\";}"
host: localhost:8080
basePath: /
paths:
  /accounts:
    get:
      summary: Get All Accounts
      operationId: listAccounts
      description: Get the accounts list.
      responses:
        200:
          description: Success response
          schema:
            $ref: '#/definitions/Accounts'
    post:
      summary: Creates A New Account
      operationId: createAccount
      description: Adds an account to the account's list.
      parameters:
      - name: person
        in: body
        description: The account to create.
        schema:
          $ref: '#/definitions/CreateAccountRequest'
      responses:
        204:
          description: Account succesfully created.
          schema:
            $ref: '#/definitions/Account'
        400:
          description: Account couldn't have been created.
        500:
          $ref: '#/responses/Standard500ErrorResponse'
  /accounts/{id}:
    get:
      summary: Get Account By Id
      operationId: getAccount
      parameters:
      - name: id
        in: path
        required: true
        description: The account's id
        type: string
      responses:
        200:
          description: Success response
        404:
          $ref: '#/responses/AccountNotFoundResponse'
  /accounts/{id}/deactivate:
    get:
      summary: Deactivate Account
      operationId: deactivateAccount
      parameters:
      - name: id
        in: path
        required: true
        description: The account's id
        type: string
      responses:
        200:
          description: Success response
        404:
          $ref: '#/responses/AccountNotFoundResponse'
  /accounts/{id}/transfers:
    get:
      summary: Get Account's Transfers
      operationId: getAccountsTransfers
      parameters:
      - name: id
        in: path
        required: true
        description: The account's id
        type: string
      responses:
        200:
          description: Success response
        404:
          $ref: '#/responses/AccountNotFoundResponse'
  /transfers:
    get:
      summary: Get All Transfers
      operationId: listTransfers
      description: Get the transfers list using search criteria.
      responses:
        200:
          description: Success response
          schema:
            $ref: '#/definitions/Transfers'
    post:
      summary: Creates A New Transfer
      operationId: createTransfer
      description: Create A Transfer From A Source Account To A Destination Account.
      parameters:
      - name: transfer
        in: body
        description: The transfer informations.
        schema:
          $ref: '#/definitions/CreateTransferRequest'
      responses:
        204:
          description: Transfer succesfully created.
          schema:
            $ref: '#/definitions/Transfer'
        400:
          description: Transfer couldn't have been created.
        500:
          $ref: '#/responses/Standard500ErrorResponse'
  /transfers/{id}:
    get:
      parameters:
      - name: id
        in: path
        required: true
        description: The transfer's id
        type: string
      summary: Get Transfer By Id
      operationId: getTransfer
      description: Get the transfer by it's id
      responses:
        200:
          description: Success response
          schema:
            $ref: '#/definitions/Transfer'
        404:
          $ref: '#/responses/TransferNotFoundResponse'
  /transfers/{id}/execute:
    get:
      parameters:
      - name: id
        in: path
        required: true
        description: The transfer's id
        type: string
      summary: Execute A Transfer By Id
      operationId: executeTransfer
      description: Execute a transfer by it's id, the state change to COMPLETED
      responses:
        200:
          description: Success response
          schema:
            $ref: '#/definitions/Transfer'
        404:
          $ref: '#/responses/TransferNotFoundResponse'
  /transfers/{id}/cancel:
    get:
      parameters:
      - name: id
        in: path
        required: true
        description: The transfer's id
        type: string
      summary: Cancel A Transfer By Id
      operationId: cancelTransfer
      description: Cancel a transfer by it's id, the state change to CANCELED
      responses:
        200:
          description: Success response
          schema:
            $ref: '#/definitions/Transfer'
        404:
          $ref: '#/responses/TransferNotFoundResponse'
schemes:
- http
definitions: !php/object "O:8:\"stdClass\":8:{s:7:\"Account\";O:8:\"stdClass\":2:{s:8:\"required\";a:1:{i:0;s:2:\"id\";}s:10:\"properties\";O:8:\"stdClass\":6:{s:2:\"id\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:4:\"name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:7:\"balance\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"number\";s:6:\"format\";s:7:\"decimal\";}s:8:\"currency\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:5:\"state\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:5:\"links\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:18:\"#/definitions/Link\";}}}}s:8:\"Accounts\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:21:\"#/definitions/Account\";}}s:8:\"Transfer\";O:8:\"stdClass\":2:{s:8:\"required\";a:1:{i:0;s:2:\"id\";}s:10:\"properties\";O:8:\"stdClass\":7:{s:2:\"id\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:13:\"fromAccountId\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:11:\"toAccountId\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:6:\"amount\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"number\";s:6:\"format\";s:7:\"decimal\";}s:8:\"currency\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:5:\"state\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:5:\"links\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:18:\"#/definitions/Link\";}}}}s:9:\"Transfers\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:22:\"#/definitions/Transfer\";}}s:21:\"CreateTransferRequest\";O:8:\"stdClass\":1:{s:10:\"properties\";O:8:\"stdClass\":5:{s:9:\"requestId\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:13:\"fromAccountId\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:11:\"toAccountId\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:6:\"amount\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"number\";s:6:\"format\";s:7:\"decimal\";}s:8:\"currency\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:20:\"CreateAccountRequest\";O:8:\"stdClass\":1:{s:10:\"properties\";O:8:\"stdClass\":4:{s:9:\"requestId\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:4:\"name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:7:\"balance\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"number\";s:6:\"format\";s:7:\"decimal\";}s:8:\"currency\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:4:\"Link\";O:8:\"stdClass\":1:{s:10:\"properties\";O:8:\"stdClass\":3:{s:4:\"href\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:3:\"rel\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:6:\"method\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:5:\"Error\";O:8:\"stdClass\":1:{s:10:\"properties\";O:8:\"stdClass\":2:{s:4:\"code\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:7:\"message\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}}"
...
