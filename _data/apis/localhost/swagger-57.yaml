---
swagger: "2.0"
info: !php/object "O:8:\"stdClass\":4:{s:7:\"version\";s:5:\"0.0.1\";s:5:\"title\";s:8:\"Kompiler\";s:11:\"description\";s:39:\"API
  to register our compile builds time\";s:7:\"license\";O:8:\"stdClass\":2:{s:4:\"name\";s:3:\"MIT\";s:3:\"url\";s:35:\"https://opensource.org/licenses/MIT\";}}"
host: localhost:3000
basePath: /api/v1
paths:
  /kompiles:
    get:
      tags:
      - Kompiles
      description: Kompiles list filtered by user and/or project
      parameters:
      - name: user
        in: query
        description: User email to filter by
      - name: project
        in: query
        description: Project name to filter by
      produces:
      - application/json
      responses:
        200:
          description: Kompiles list filtered by user and/or project
          schema:
            $ref: '#/definitions/Kompiles'
        default:
          description: Error
          schema:
            $ref: '#/definitions/GenericError'
    post:
      tags:
      - Kompiles
      description: Create new kompile in system
      parameters:
      - name: Kompile
        in: body
        description: Kompile that we want to create
        schema:
          $ref: '#/definitions/Kompile'
      produces:
      - application/json
      responses:
        200:
          description: New kompile is created
          schema:
            $ref: '#/definitions/Kompile'
        default:
          description: Error
          schema:
            $ref: '#/definitions/GenericError'
  /kompiles/average/summary:
    get:
      tags:
      - Kompiles
      description: Kompile time average summary filtered by user and/or project
      parameters:
      - name: user
        in: query
        description: User email to filter by
      - name: project
        in: query
        description: Project name to filter by
      produces:
      - application/json
      responses:
        200:
          description: Kompile time average filtered by user and/or project
          schema:
            $ref: '#/definitions/KompileAverage'
        default:
          description: Error
          schema:
            $ref: '#/definitions/GenericError'
  /kompiles/average:
    get:
      tags:
      - Kompiles
      description: Kompile time average filtered by user or project
      parameters:
      - name: user
        in: query
        description: User email to filter by
      - name: project
        in: query
        description: Project name to filter by
      produces:
      - application/json
      responses:
        200:
          description: Kompile time average filtered by user or project
          schema:
            $ref: '#/definitions/KompilesAverage'
        default:
          description: Error
          schema:
            $ref: '#/definitions/GenericError'
  /kompiles/sum:
    get:
      tags:
      - Kompiles
      description: Kompile time sum filtered by user or project
      parameters:
      - name: user
        in: query
        description: User email to filter by
      - name: project
        in: query
        description: Project name to filter by
      produces:
      - application/json
      responses:
        200:
          description: Kompile time sum filtered by user or project
          schema:
            $ref: '#/definitions/KompilesSum'
        default:
          description: Error
          schema:
            $ref: '#/definitions/GenericError'
  /kompiles/sum/summary:
    get:
      tags:
      - Kompiles
      description: Kompile time sum summary filtered by user and/or project
      parameters:
      - name: user
        in: query
        description: User email to filter by
      - name: project
        in: query
        description: Project name to filter by
      produces:
      - application/json
      responses:
        200:
          description: Kompile time sum summary filtered by user and/or project
          schema:
            $ref: '#/definitions/KompileSum'
        default:
          description: Error
          schema:
            $ref: '#/definitions/GenericError'
  /users:
    get:
      tags:
      - Users
      description: Filter users by query
      parameters:
      - name: prefix
        in: query
        description: User email to filter by
      produces:
      - application/json
      responses:
        200:
          description: User list
          schema:
            $ref: '#/definitions/Users'
        default:
          description: Error
          schema:
            $ref: '#/definitions/GenericError'
  /projects:
    get:
      tags:
      - Projects
      description: Filter projects by query
      parameters:
      - name: prefix
        in: query
        description: Project name to filter by
      produces:
      - application/json
      responses:
        200:
          description: Project list
          schema:
            $ref: '#/definitions/Projects'
        default:
          description: Error
          schema:
            $ref: '#/definitions/GenericError'
produces:
- application/json
schemes:
- http
- https
definitions: !php/object "O:8:\"stdClass\":11:{s:7:\"Kompile\";O:8:\"stdClass\":2:{s:8:\"required\";a:3:{i:0;s:4:\"user\";i:1;s:7:\"project\";i:2;s:8:\"duration\";}s:10:\"properties\";O:8:\"stdClass\":5:{s:5:\"alias\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:7:\"example\";s:13:\"kompiler-user\";}s:4:\"user\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"string\";s:11:\"uniqueItems\";b:1;s:7:\"example\";s:18:\"kompiler@gmail.com\";}s:7:\"project\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:7:\"example\";s:12:\"kompiler-api\";}s:8:\"duration\";O:8:\"stdClass\":3:{s:4:\"type\";s:6:\"number\";s:7:\"example\";i:200;s:7:\"minimum\";i:1;}s:9:\"createdAt\";O:8:\"stdClass\":2:{s:4:\"type\";s:9:\"timestamp\";s:7:\"example\";i:20012719821;}}}s:8:\"Kompiles\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:4:\"$ref\";s:21:\"#/definitions/Kompile\";}}s:14:\"KompileAverage\";O:8:\"stdClass\":1:{s:10:\"properties\";O:8:\"stdClass\":3:{s:7:\"average\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"number\";s:7:\"example\";i:200;}s:4:\"user\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:7:\"example\";s:18:\"kompiler@gmail.com\";}s:7:\"project\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:7:\"example\";s:12:\"kompiler-api\";}}}s:15:\"KompilesAverage\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:4:\"$ref\";s:28:\"#/definitions/KompileAverage\";}}s:10:\"KompileSum\";O:8:\"stdClass\":1:{s:10:\"properties\";O:8:\"stdClass\":3:{s:3:\"sum\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"number\";s:7:\"example\";i:2000;}s:4:\"user\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:7:\"example\";s:18:\"kompiler@gmail.com\";}s:7:\"project\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:7:\"example\";s:12:\"kompiler-api\";}}}s:11:\"KompilesSum\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:4:\"$ref\";s:24:\"#/definitions/KompileSum\";}}s:4:\"User\";O:8:\"stdClass\":1:{s:10:\"properties\";O:8:\"stdClass\":2:{s:5:\"alias\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:7:\"example\";s:18:\"kompiler-developer\";}s:5:\"email\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:7:\"example\";s:18:\"kompiler@gmail.com\";}}}s:5:\"Users\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:4:\"$ref\";s:18:\"#/definitions/User\";}}s:7:\"Project\";O:8:\"stdClass\":1:{s:10:\"properties\";O:8:\"stdClass\":1:{s:4:\"name\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:7:\"example\";s:12:\"kompiler-api\";}}}s:8:\"Projects\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:4:\"$ref\";s:21:\"#/definitions/Project\";}}s:12:\"GenericError\";O:8:\"stdClass\":1:{s:10:\"properties\";O:8:\"stdClass\":2:{s:6:\"status\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"number\";s:7:\"example\";i:400;}s:7:\"message\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:7:\"example\";s:51:\"Kompiles
  not found filtering by kompile-api project\";}}}}"
...
