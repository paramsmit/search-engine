---
swagger: "2.0"
info: !php/object "O:8:\"stdClass\":4:{s:7:\"version\";s:3:\"1.0\";s:5:\"title\";s:11:\"Tag
  x00 API\";s:7:\"contact\";O:8:\"stdClass\":3:{s:4:\"name\";s:8:\"Trap x00\";s:3:\"url\";s:26:\"https://github.com/trapx00\";s:5:\"email\";s:16:\"445073309@qq.com\";}s:7:\"license\";O:8:\"stdClass\":0:{}}"
host: localhost:8080
basePath: /
paths:
  /account/login:
    get:
      tags:
      - user-controller
      summary: u7528u6237u767bu5f55
      description: u9a8cu8bc1u7528u6237u767bu5f55u5e76u8fd4u56detoken
      operationId: loginUsingGET
      consumes:
      - application/json
      produces:
      - '*/*'
      parameters:
      - in: body
        name: username
        description: u7528u6237u540d
        required: true
        schema:
          type: string
      - in: body
        name: password
        description: u5bc6u7801
        required: true
        schema:
          type: string
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/UserLoginResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/WrongResponse'
        500:
          description: Failure
          schema:
            $ref: '#/definitions/WrongResponse'
        403:
          description: Forbidden
        404:
          description: Not Found
  /account/register:
    post:
      tags:
      - user-controller
      summary: u7528u6237u6ce8u518c
      description: u9a8cu8bc1u662fu5426u5b58u5728u540cu6837u7684u7528u6237u540duff0cu5e2eu52a9u7528u6237u6ce8u518cuff0cu5e76u8fd4u56detoken
      operationId: registerUsingPOST
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: username
        description: u7528u6237u540d
        required: true
        schema:
          type: string
      - in: body
        name: password
        description: u5bc6u7801
        required: true
        schema:
          type: string
      - in: body
        name: email
        description: u7535u5b50u90aeu7bb1u5730u5740
        required: true
        schema:
          type: string
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Response'
        201:
          description: Success
          schema:
            $ref: '#/definitions/UserRegisterResponse'
        401:
          description: Unauthorized
        403:
          description: Forbidden
        404:
          description: Not Found
        503:
          description: Failure
          schema:
            $ref: '#/definitions/WrongResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/WrongResponse'
  /mission:
    get:
      tags:
      - public-mission-controller
      summary: u83b7u5f97u6240u6709u4efbu52a1
      description: u83b7u5f97u672cu7ad9u6240u6709u73b0u6709u6709u7684u4efbu52a1u4fe1u606f
      operationId: getAllMissionsUsingGET
      consumes:
      - application/json
      produces:
      - '*/*'
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/MissionPublicResponse'
        401:
          description: Unauthorized
        403:
          description: Forbidden
        404:
          description: Not Found
    post:
      tags:
      - requester-mission-controller
      summary: u53d1u5e03u4efbu52a1
      description: u53d1u5e03u8005u53d1u5e03u4e00u4e2au4efbu52a1
      operationId: createMissionUsingPOST
      consumes:
      - application/json
      produces:
      - '*/*'
      parameters:
      - in: body
        name: mission
        description: mission
        required: true
        schema:
          $ref: '#/definitions/MissionCreateVo'
      - in: body
        name: title
        description: u4efbu52a1u6807u9898
        required: true
        schema:
          type: string
      - in: body
        name: description
        description: u4efbu52a1u63cfu8ff0
        required: true
        schema:
          type: string
      - in: body
        name: topics
        description: u4efbu52a1u4e3bu9898
        required: true
        schema:
          type: string
      - in: body
        name: allowedTags
        description: u5141u8bb8u7684u6807u6ce8
        required: true
        schema:
          type: string
      - in: body
        name: missionVo
        description: u4efbu52a1u79cdu7c7b
        required: true
        schema:
          type: string
      - in: body
        name: start
        description: u5f00u59cbu65f6u95f4
        required: true
        schema:
          type: string
      - in: body
        name: end
        description: u7ed3u675fu65f6u95f4
        required: true
        schema:
          type: string
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/MissionCreateResponse'
        201:
          description: Created
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/WrongResponse'
        500:
          description: Failure
          schema:
            $ref: '#/definitions/WrongResponse'
        403:
          description: Forbidden
        404:
          description: Not Found
  /mission/requester:
    get:
      tags:
      - requester-mission-controller
      summary: u83b7u5f97u5df2u53d1u5e03u7684u4efbu52a1
      description: u83b7u5f97u672cu53d1u5e03u8005u5df2u53d1u5e03u7684u6240u6709u4efbu52a1
      operationId: queryOnesUsingGET
      consumes:
      - application/json
      produces:
      - '*/*'
      responses:
        200:
          description: Returns current user's missions
          schema:
            $ref: '#/definitions/MissionQueryResponse'
        401:
          description: Not login
          schema:
            $ref: '#/definitions/WrongResponse'
        403:
          description: Not requester
          schema:
            $ref: '#/definitions/WrongResponse'
        404:
          description: Not Found
  /mission/requester/{missionId}:
    get:
      tags:
      - requester-mission-controller
      summary: u67e5u770bu4efbu52a1u7ec6u8282
      description: u67e5u8be2u8be5u4efbu52a1u7ec6u8282
      operationId: queryMissionDetailUsingGET
      consumes:
      - application/json
      produces:
      - '*/*'
      parameters:
      - name: missionId
        in: path
        description: u4efbu52a1ID
        required: true
        type: string
      responses:
        200:
          description: Returns the detail of the mission
          schema:
            $ref: '#/definitions/MissionQueryDetailResponse'
        401:
          description: Not login
          schema:
            $ref: '#/definitions/WrongResponse'
        403:
          description: Not requester or not the author of the mission
          schema:
            $ref: '#/definitions/WrongResponse'
        404:
          description: mission not found
          schema:
            $ref: '#/definitions/WrongResponse'
  /mission/requester/{missionId}/instances/{instanceId}:
    get:
      tags:
      - requester-mission-controller
      summary: u67e5u770bu4efbu52a1u5b9eu4f8bu8be6u60c5
      description: u67e5u8be2u4efbu52a1u5b9eu4f8bu7684u8be6u60c5
      operationId: queryInstanceUsingGET
      consumes:
      - application/json
      produces:
      - '*/*'
      parameters:
      - name: missionId
        in: path
        description: u4efbu52a1ID
        required: true
        type: string
      - name: instanceId
        in: path
        description: u5b9eu4f8bID
        required: true
        type: string
      responses:
        200:
          description: Returns the instance
          schema:
            $ref: '#/definitions/MissionInstanceQueryDetailResponse'
        401:
          description: Not login
          schema:
            $ref: '#/definitions/WrongResponse'
        403:
          description: Not requester or not the author of the mission
          schema:
            $ref: '#/definitions/WrongResponse'
        404:
          description: mission or instance not found
          schema:
            $ref: '#/definitions/WrongResponse'
  /mission/worker:
    get:
      tags:
      - worker-mission-controller
      summary: u5de5u4ebau67e5u770bu6240u6709u4efbu52a1
      description: u5de5u4ebau67e5u770bu81eau5df1u5df2u63a5u7684u6240u6709u4efbu52a1
      operationId: queryOnesAllMissionsUsingGET
      consumes:
      - application/json
      produces:
      - '*/*'
      responses:
        200:
          description: Returns current user's missions
          schema:
            $ref: '#/definitions/MissionQueryResponse'
        401:
          description: Not login
          schema:
            $ref: '#/definitions/WrongResponse'
        403:
          description: Not worker
          schema:
            $ref: '#/definitions/WrongResponse'
        404:
          description: Not Found
  /mission/worker/{missionId}:
    get:
      tags:
      - worker-mission-controller
      summary: u5de5u4ebau83b7u53d6u4efbu52a1u4fe1u606f
      description: u5de5u4ebau83b7u53d6u81eau5df1u9886u53d6u4efbu52a1u7684u5b9eu4f8bu7684u4fe1u606f
      operationId: getInstanceInformationUsingGET
      consumes:
      - application/json
      produces:
      - '*/*'
      parameters:
      - name: missionId
        in: path
        description: u4efbu52a1ID
        required: true
        type: string
      responses:
        200:
          description: Returns the instance
          schema:
            $ref: '#/definitions/MissionInstanceDetailVo'
        401:
          description: Not login
          schema:
            $ref: '#/definitions/WrongResponse'
        403:
          description: Not worker
          schema:
            $ref: '#/definitions/WrongResponse'
        404:
          description: mission id not found or mission isn't accepted
          schema:
            $ref: '#/definitions/WrongResponse'
    post:
      tags:
      - worker-mission-controller
      summary: u5de5u4ebau63d0u4ea4u4efbu52a1
      description: u5de5u4ebau63d0u4ea4u5f53u524du4efbu52a1
      operationId: submitUsingPOST
      consumes:
      - application/json
      produces:
      - '*/*'
      parameters:
      - in: body
        name: mission
        description: mission
        required: true
        schema:
          $ref: '#/definitions/MissionVo'
      - in: body
        name: dataType
        description: u4efbu52a1u7c7bu578b
        required: true
        schema:
          type: string
      - name: missionId
        in: path
        description: u4efbu52a1ID
        required: true
        type: string
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Response'
        201:
          description: Progress saved.
          schema:
            $ref: '#/definitions/SuccessResponse'
        401:
          description: Not login
          schema:
            $ref: '#/definitions/WrongResponse'
        403:
          description: Not worker
          schema:
            $ref: '#/definitions/WrongResponse'
        404:
          description: mission id not found or mission isn't accepted
          schema:
            $ref: '#/definitions/WrongResponse'
    put:
      tags:
      - worker-mission-controller
      summary: u5de5u4ebau4fddu5b58u4efbu52a1u8fdbu5ea6
      description: u5de5u4ebau4fddu5b58u5f53u524du4efbu52a1u7684u5b9eu4f8bu7684u8fdbu5ea6
      operationId: saveProgressUsingPUT
      consumes:
      - application/json
      produces:
      - '*/*'
      parameters:
      - in: body
        name: mission
        description: mission
        required: true
        schema:
          $ref: '#/definitions/MissionVo'
      - in: body
        name: dataType
        description: u4efbu52a1u7c7bu578b
        required: true
        schema:
          type: string
      - name: missionId
        in: path
        description: u4efbu52a1ID
        required: true
        type: string
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Response'
        201:
          description: Progress saved.
          schema:
            $ref: '#/definitions/SuccessResponse'
        401:
          description: Not login
          schema:
            $ref: '#/definitions/WrongResponse'
        403:
          description: Not worker
          schema:
            $ref: '#/definitions/WrongResponse'
        404:
          description: mission id not found or mission isn't accepted
          schema:
            $ref: '#/definitions/WrongResponse'
    delete:
      tags:
      - worker-mission-controller
      summary: u5de5u4ebau653eu5f03u4efbu52a1
      description: u5de5u4ebau653eu5f03u81eau5df1u5df2u63a5u7684u6240u6709u4efbu52a1
      operationId: abortUsingDELETE
      consumes:
      - application/json
      produces:
      - '*/*'
      parameters:
      - name: missionId
        in: path
        description: u4efbu52a1ID
        required: true
        type: string
      responses:
        200:
          description: Mission abandoned.
          schema:
            $ref: '#/definitions/SuccessResponse'
        401:
          description: Not login
          schema:
            $ref: '#/definitions/WrongResponse'
        204:
          description: No Content
        403:
          description: Not worker
          schema:
            $ref: '#/definitions/WrongResponse'
        404:
          description: mission id not found or mission isn't accepted
          schema:
            $ref: '#/definitions/WrongResponse'
  /upload/mission/image/{missionId}:
    post:
      tags:
      - mission-upload-controller
      summary: u53d1u5e03u8005u4e0au4f20u6587u4ef6
      description: u53d1u5e03u8005u4e0au4f20u672cu6b21u4efbu52a1u7684u56feu7247uff0cu4f20u8f93u65f6u9650u4e3a10min
      operationId: uploadFilesUsingPOST
      consumes:
      - multipart/form-data
      produces:
      - '*/*'
      parameters:
      - in: body
        name: multipartFile
        description: u56feu7247
        required: true
        schema:
          type: string
      - in: body
        name: order
        description: u56feu7247u987au5e8f
        required: true
        schema:
          type: string
      - in: body
        name: isCover
        description: u56feu7247u662fu5426u662fu5c01u9762u56fe
        required: true
        schema:
          type: string
      - name: missionId
        in: path
        description: u4efbu52a1ID
        required: true
        type: string
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Response'
        201:
          description: Image uploaded
          schema:
            $ref: '#/definitions/UploadMissionImageResponse'
        401:
          description: Unauthorized
        403:
          description: Upload session timed out
          schema:
            $ref: '#/definitions/WrongResponse'
        404:
          description: Upload session id not exist
          schema:
            $ref: '#/definitions/WrongResponse'
definitions: !php/object "O:8:\"stdClass\":18:{s:20:\"UserRegisterResponse\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":3:{s:5:\"email\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"jwtRoles\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:35:\"#/definitions/Collection\xABJwtRole\xBB\";}s:5:\"token\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:15:\"SuccessResponse\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":2:{s:11:\"description\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"infoCode\";O:8:\"stdClass\":2:{s:4:\"type\";s:7:\"integer\";s:6:\"format\";s:5:\"int32\";}}}s:23:\"MissionInstanceDetailVo\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"object\";}s:11:\"InputStream\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"object\";}s:15:\"MissionCreateVo\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"object\";}s:21:\"MissionCreateResponse\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"object\";}s:21:\"MissionPublicResponse\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"object\";}s:8:\"Response\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"object\";}s:13:\"MultipartFile\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":7:{s:5:\"bytes\";O:8:\"stdClass\":2:{s:4:\"type\";s:5:\"array\";s:5:\"items\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"string\";s:6:\"format\";s:4:\"byte\";}}s:11:\"contentType\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:5:\"empty\";O:8:\"stdClass\":1:{s:4:\"type\";s:7:\"boolean\";}s:11:\"inputStream\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:25:\"#/definitions/InputStream\";}s:4:\"name\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:16:\"originalFilename\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:4:\"size\";O:8:\"stdClass\":2:{s:4:\"type\";s:7:\"integer\";s:6:\"format\";s:5:\"int64\";}}}s:9:\"MissionVo\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"object\";}s:20:\"MissionQueryResponse\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"object\";}s:17:\"UserLoginResponse\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":3:{s:5:\"email\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"jwtRoles\";O:8:\"stdClass\":1:{s:4:\"$ref\";s:35:\"#/definitions/Collection\xABJwtRole\xBB\";}s:5:\"token\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:34:\"MissionInstanceQueryDetailResponse\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"object\";}s:21:\"Collection\xABJwtRole\xBB\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"object\";}s:26:\"MissionQueryDetailResponse\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"object\";}s:7:\"JwtRole\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":1:{s:9:\"authority\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}}}s:13:\"WrongResponse\";O:8:\"stdClass\":2:{s:4:\"type\";s:6:\"object\";s:10:\"properties\";O:8:\"stdClass\":2:{s:11:\"description\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"string\";}s:8:\"infoCode\";O:8:\"stdClass\":2:{s:4:\"type\";s:7:\"integer\";s:6:\"format\";s:5:\"int32\";}}}s:26:\"UploadMissionImageResponse\";O:8:\"stdClass\":1:{s:4:\"type\";s:6:\"object\";}}"
...
